Revision: 11dc70a3cb996eacd928aa6cc10fe26b611d5810
Patch-set: 10
File: dex2oat/dex2oat.cc

1366:0-1378:59
Tue Sep 13 15:36:35 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 2b0baeaa_2a3a5fd2
Bytes: 82
Could you move this closer to line 1481 to keep the vdex logic next to each other?

1366:0-1378:59
Wed Sep 14 08:33:51 2016 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 2b0baeaa_2a3a5fd2
UUID: 2b0baeaa_0a68bb88
Bytes: 73
Done. I now initialize deps in callbacks as null and assign them at 1481.

File: runtime/verifier/verifier_deps.cc

112:0-112:50
Tue Sep 13 15:36:35 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 6b884673_911abcd8
Bytes: 87
As discussed, please add more comments about why you're unconditionnaly returning true.

112:0-112:50
Wed Sep 14 08:33:51 2016 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 6b884673_911abcd8
UUID: 2b7f2ee8_672eb254
Bytes: 4
Done

237:0-237:62
Tue Sep 13 15:36:35 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 8b99fa95_45933c51
Bytes: 101
Is that true? I'd say that it's the dex_file of source which will contain the vdex dependency, right?

237:0-237:62
Wed Sep 14 08:33:51 2016 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 8b99fa95_45933c51
UUID: 0bad0ab1_9ea07da6
Bytes: 4
Done

File: runtime/verifier/verifier_deps.h

35:49-35:53
Tue Sep 13 15:36:35 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 0bad0ab1_bef219cb
Bytes: 42
that is, classes defined in the classpath.

35:49-35:53
Wed Sep 14 08:33:51 2016 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 0bad0ab1_bef219cb
UUID: 6b884673_11380c28
Bytes: 4
Done

222:26-222:55
Tue Sep 13 15:36:35 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: eb74360d_0b40a15a
Bytes: 25
Why not just DexFileDeps?

222:26-222:55
Wed Sep 14 08:33:51 2016 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: eb74360d_0b40a15a
UUID: 0bad0ab1_1eb6adf3
Bytes: 109
Because then I get rid of DISALLOW_COPY_AND_ASSIGN and the weird initialization with []. Which do you prefer?

File: runtime/verifier/verifier_deps_test.cc

172:0-172:54
Tue Sep 13 15:36:35 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: cb6db244_244bd211
Bytes: 73
How about just passing a boolean flag, and avoid passing the magic value?

172:0-172:54
Wed Sep 14 08:33:51 2016 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: cb6db244_244bd211
UUID: cb4e920b_3f04e3b7
Bytes: 4
Done

180:0-192:9
Tue Sep 13 15:36:35 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: cb6db244_4440cee9
Bytes: 64
Comments? What's an entry class? Why adding " " to access flags.

180:0-192:9
Wed Sep 14 08:33:51 2016 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: cb6db244_4440cee9
UUID: cb4e920b_ffd43b0e
Bytes: 110
I've renamed everything to expected_* and actual_*. Hope that makes more sense. Added a comment about the " ".

205:4-205:56
Tue Sep 13 15:36:35 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 2ba48eca_02740c60
Bytes: 21
ditto about the flag.

213:0-243:8
Tue Sep 13 15:36:35 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: cb6db244_e4037aaf
Bytes: 20
ditto about comments

256:4-304:3
Tue Sep 13 15:36:35 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 6b884673_3103d06b
Bytes: 5
ditto

