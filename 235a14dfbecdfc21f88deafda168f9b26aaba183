Revision: 235a14dfbecdfc21f88deafda168f9b26aaba183
Patch-set: 2
File: runtime/openjdkjvmti/object_tagging.cc

87
Mon Oct 24 12:42:05 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7c0657a0_8ef6ff1f
Bytes: 126
I'd add a comment: "the lookup is based on the address, so if the object has moved concurrently, we need to update the table".

87
Mon Oct 24 18:30:57 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7c0657a0_8ef6ff1f
UUID: a18a68d9_e18186e3
Bytes: 4
Done

115
Mon Oct 24 12:42:05 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7c0657a0_aef1c32b
Bytes: 5
ditto

115
Mon Oct 24 18:30:57 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7c0657a0_aef1c32b
UUID: a18a68d9_a18b7eff
Bytes: 4
Done

136:0-136:35
Mon Oct 24 12:42:05 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: fce08714_4f3db182
Bytes: 181
I'd add a comment: "this method is being executed after GC marking. We reset the flag to ensure the table knows that during the next marking phase, it may need to update the table".

136:0-136:35
Mon Oct 24 18:30:57 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: fce08714_4f3db182
UUID: a18a68d9_e1af4661
Bytes: 4
Done

File: runtime/openjdkjvmti/object_tagging.h

101:0-103:37
Mon Oct 24 12:42:05 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 2123d89f_d531bc50
Bytes: 126
I'd add a comment: Update the table by doing read barriers on each entry and updating the entry with the potential new object.

101:0-103:37
Mon Oct 24 18:30:57 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 2123d89f_d531bc50
UUID: a18a68d9_610a5694
Bytes: 4
Done

