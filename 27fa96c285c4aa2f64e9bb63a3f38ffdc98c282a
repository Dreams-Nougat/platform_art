Revision: 27fa96c285c4aa2f64e9bb63a3f38ffdc98c282a
Patch-set: 3
File: runtime/gc/heap.cc

4253:46-4253:56
Wed Oct 12 20:29:49 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5c37d20c_20c3ca55
Bytes: 13
Uninstrument?

4253:46-4253:56
Wed Oct 12 20:42:57 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5c37d20c_20c3ca55
UUID: 1c99da37_c7b814dd
Bytes: 30
Thanks. Will fix in follow-up.

File: runtime/gc/heap.h

790:36-791:89
Wed Oct 12 20:29:49 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5c37d20c_80c8d66e
Bytes: 171
Could the listener be deleted when all threads are suspended? Maybe the agent will then need to be careful if it's executing code from AllocationListener::ObjectAllocated.

790:36-791:89
Wed Oct 12 20:42:57 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5c37d20c_80c8d66e
UUID: 7c73b6d0_02f2705e
Bytes: 191
Yes, when we know that there are no calls made, we could delete it. Right now this is pretty special-purpose, and so it seemed easier to not reason about this (similar to allocation records).

File: runtime/openjdkjvmti/events.h

105:2-105:59
Wed Oct 12 20:29:49 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5c37d20c_60cdd27c
Bytes: 32
Why is that not stack allocated?

105:2-105:59
Wed Oct 12 20:42:57 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5c37d20c_60cdd27c
UUID: 5c64320a_b263d03a
Bytes: 56
To make it an implementation detail and allow a forward.

