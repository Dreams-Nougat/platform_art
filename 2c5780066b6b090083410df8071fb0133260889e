Revision: 2c5780066b6b090083410df8071fb0133260889e
Patch-set: 6
File: test/etc/run-test-jar

415
Wed Sep 28 18:32:52 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e5c1c7c3_e412ef6c
Bytes: 86
Add 

  # See NAME_MAX in kernel <linux/limits.h>

for each constant defined like this

415
Wed Sep 28 20:38:12 2016 +0000
Author: Wojciech Staszkiewicz <1067043@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e5c1c7c3_e412ef6c
UUID: e5c1c7c3_3a57fe24
Bytes: 4
Done

418
Wed Sep 28 18:32:52 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e5c1c7c3_442143b9
Bytes: 272
It's going to underestimate the allowed maximum length now

The file name only should be compared against NAME_MAX (e.g. basename "some/path/foo.bar" -> foo.bar)

The full absolute path (e.g. readlink -f "foo.bar" -> /some/path/foo.bar) should be compared against PATH_MAX

418
Wed Sep 28 20:38:12 2016 +0000
Author: Wojciech Staszkiewicz <1067043@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e5c1c7c3_442143b9
UUID: e5c1c7c3_3a1ede80
Bytes: 107
Vdex name is as long as VDEX_PATH.

I'm now computing the full vdex name explicitly so it's less confusing.

421
Wed Sep 28 18:32:52 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e5c1c7c3_84217baa
Bytes: 80
There should be one comparison against the path and another against the basename

421
Wed Sep 28 20:38:12 2016 +0000
Author: Wojciech Staszkiewicz <1067043@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e5c1c7c3_84217baa
UUID: e5c1c7c3_1a0e8249
Bytes: 146
I think this isn't needed, because PATH_MAX has to be larger then NAME_MAX and we are already checking that DEX_LOCATION is shorter then NAME_MAX.

