Revision: 2d6d982894c5e6694d54bdbc7cd19d1176b36552
Patch-set: 3
File: compiler/optimizing/code_generator_x86.cc

4375:11-4375:12
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: fba69f26_7a0ce517
Bytes: 138
This else block is to handle both the non-baker read barrier and the non-read-barrier cases.

Insert "If read barriers are enabled," here?

4375:11-4375:12
Fri Dec 04 14:18:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: fba69f26_7a0ce517
UUID: 1b21b386_eaaca3b0
Bytes: 4
Done

4866:22-4867:66
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 1b17f3fd_43bf70ec
Bytes: 227
This refers to line 4862? If so, now that the code has moved up here, could this comment be simplified to something like "Note that a potential implicit null check is handled in this GenerateArrayLoadWithBakerReadBarrier call"?

4866:22-4867:66
Fri Dec 04 14:18:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1b17f3fd_43bf70ec
UUID: 9b2da379_cb45292a
Bytes: 46
Done, here and similarly in lines 4362â€“4365.

4875:13-4875:14
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bbb18759_6b141d2a
Bytes: 44
Insert "If read barriers are enabled," here?

4875:13-4875:14
Fri Dec 04 14:18:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bbb18759_6b141d2a
UUID: fb1bff58_460bf4a8
Bytes: 4
Done

4880:13-4880:14
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9bb8433f_4ab5d73b
Bytes: 5
Same.

4880:13-4880:14
Fri Dec 04 14:18:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9bb8433f_4ab5d73b
UUID: c0eba861_040a5869
Bytes: 4
Done

6444:15-6444:19
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bbb18759_4b9e79d5
Bytes: 63
I think this should be cmpl as is_gc_marking is a 32-bit field.

6444:15-6444:19
Fri Dec 04 14:18:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bbb18759_4b9e79d5
UUID: fb1bff58_c6cb649b
Bytes: 4
Done

6598:4-6598:6
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3b18372c_04c7401a
Bytes: 65
Would it make sense to insert DCHECK(!kUseBakerReadBarrier) here?

6598:4-6598:6
Fri Dec 04 14:18:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3b18372c_04c7401a
UUID: db339bd5_4d44edf8
Bytes: 25
I think so; added in PS4.

File: runtime/read_barrier-inl.h

193:0-193:13
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3b18372c_04462035
Bytes: 55
I think this should be in the .h file rather than here.

193:0-193:13
Fri Dec 04 14:18:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3b18372c_04462035
UUID: a0f23453_c388e808
Bytes: 4
Done

