Revision: 456eed41cbfeb3ceae9dc6dcf0a90d99270eddad
Patch-set: 3
File: Android.mk

47:16-47:18
Fri Sep 23 08:54:24 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 85656bf7_09fde951
Bytes: 21
consistency: put art?

47:16-47:18
Fri Sep 23 17:46:06 2016 +0000
Author: Wojciech Staszkiewicz <1067043@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 85656bf7_09fde951
UUID: b0938fd9_f8bba877
Bytes: 462
Andreas mentioned in b/31597671 that build bots set TMPDIR. In that case if we added art here we would actually reduce the number of characters available to them.

The name TMPDIR is not very fortunate, maybe it should be TEST_DIR. If we wanted to rename this though, we would need to change buildbots as well and I suspect it might be problematic with buildbots running continuously.

Or should we skip art in both cases and put a TMPDIR= in Andreas' bashrc? :)

47:16-47:18
Fri Sep 23 19:06:21 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b0938fd9_f8bba877
UUID: b0938fd9_ae047a72
Bytes: 90
TMPDIR is a unix (?) standard. It doesn't make sense to copy it just to have our own name.

47:16-47:18
Fri Sep 23 19:13:42 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b0938fd9_ae047a72
UUID: b0938fd9_0eb1ee98
Bytes: 152
What is * in  test-* anyway? If it's the PID it's unlikely to collide with other users since PIDs are globally unique.

(and yes TMPDIR is unixstandard)

47:16-47:18
Fri Sep 23 20:16:23 2016 +0000
Author: Wojciech Staszkiewicz <1067043@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b0938fd9_0eb1ee98
UUID: b0938fd9_29886478
Bytes: 155
Yes * is PID.

So I guess we should either add /art in both paths or skip it in both. I would prefer to save those 4 characters. What do you think Nicolas?

47:16-47:18
Fri Sep 23 21:59:14 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b0938fd9_29886478
UUID: b0938fd9_70124c11
Bytes: 302
For the smallest path we can probably get away with $(TMPDIR)/PID

Maybe even call some hash function to compress the pid down to characters.

I think 'dalvik-cache' is hardcoded for correctness which is a shame. We would accept a C++ patch to change the dalvik-cache directory to be something shorter.

File: build/Android.common_test.mk

24:29-24:31
Fri Sep 23 08:54:24 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 455b733f_07d036f3
Bytes: 5
ditto

File: test/run-test

40:19-40:23
Fri Sep 23 08:54:24 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 85656bf7_e91175b8
Bytes: 5
ditto

