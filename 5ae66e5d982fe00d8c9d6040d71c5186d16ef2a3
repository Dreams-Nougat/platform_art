Revision: 5ae66e5d982fe00d8c9d6040d71c5186d16ef2a3
Patch-set: 1
File: compiler/linker/arm64/relative_patcher_arm64.cc

19
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_94024aa3
Bytes: 44
system headers should go after local headers

19
Thu Mar 24 21:45:29 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: dca63e27_94024aa3
UUID: dca63e27_9f6f03ff
Bytes: 114
That's not how iwyu and we usually handle it. System headers are usually first after the corresponding .h include.

19
Thu Mar 24 21:47:45 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: dca63e27_9f6f03ff
UUID: dca63e27_9f09c351
Bytes: 216
If a local header forgets to include the system header, it could "work" in one .cc file but then not in another which didn't also include the same header.

Very similar to the problem this is trying to solve as well.

19
Thu Mar 24 22:47:33 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: dca63e27_9f09c351
UUID: dca63e27_9a86f106
Bytes: 138
Just check other files that actually had system headers. It's our current style.

(And in case the codebase is consistent, a non-issue...)

19
Thu Mar 24 22:51:15 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: dca63e27_9a86f106
UUID: dca63e27_da03592d
Bytes: 168
Seems like a great opportunity to actually get it to follow the correct style guidelines:

https://google.github.io/styleguide/cppguide.html#Names_and_Order_of_Includes

File: compiler/linker/arm64/relative_patcher_arm64.h

20:0-24:17
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_5460e279
Bytes: 44
system headers should go after local headers

File: compiler/linker/buffered_output_stream.h

20
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_f4074eb1
Bytes: 44
system headers should go after local headers

File: compiler/linker/file_output_stream.h

22
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_34f276fc
Bytes: 44
system headers should go after local headers

File: compiler/linker/multi_oat_relative_patcher.cc

19
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_942b6a1b
Bytes: 44
system headers should go after local headers

File: compiler/linker/multi_oat_relative_patcher.h

20
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_b4266653
Bytes: 44
system headers should go after local headers

File: compiler/linker/output_stream.h

20
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_d425f246
Bytes: 44
system headers should go after local headers

File: compiler/linker/relative_patcher.cc

19
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_5412a2e5
Bytes: 44
system headers should go after local headers

File: compiler/linker/relative_patcher.h

20
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_74151ecc
Bytes: 44
system headers should go after local headers

File: compiler/linker/vector_output_stream.cc

19
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_94cc0ab0
Bytes: 44
system headers should go after local headers

File: compiler/linker/vector_output_stream.h

22
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_b4c7868c
Bytes: 44
system headers should go after local headers

File: compiler/linker/x86/relative_patcher_x86_base.cc

19
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_d4d6923b
Bytes: 44
system headers should go after local headers

File: compiler/linker/x86/relative_patcher_x86_base.h

22
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_f4d10e46
Bytes: 44
system headers should go after local headers

File: compiler/optimizing/ssa_phi_elimination.cc

19
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_74e6be30
Bytes: 44
system headers should go after local headers

File: compiler/optimizing/ssa_phi_elimination.h

20
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_34dc3659
Bytes: 44
system headers should go after local headers

File: dalvikvm/dalvikvm.cc

17
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_54e3c21e
Bytes: 44
system headers should go after local headers

File: runtime/base/arena_bit_vector.cc

19
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_f4aaaeb5
Bytes: 44
system headers should go after local headers

File: runtime/base/arena_bit_vector.h

20
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_b4b02628
Bytes: 44
system headers should go after local headers

File: runtime/base/bit_vector.cc

19
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_74bfdef0
Bytes: 44
system headers should go after local headers

File: runtime/base/bit_vector.h

20
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_34c55679
Bytes: 44
system headers should go after local headers

File: runtime/native/java_util_concurrent_atomic_AtomicLong.cc

19
Thu Mar 24 21:34:06 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_54bc62fa
Bytes: 45
library headers should go after local headers

File: sigchainlib/sigchain.cc

29:0-29:20
Thu Mar 24 22:15:09 2016 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_7f77b761
Bytes: 37
I thought we didn't use exceptions...

29:0-29:20
Thu Mar 24 22:47:33 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: dca63e27_7f77b761
UUID: dca63e27_5ae129e5
Bytes: 165
Yeah, sorry, forgot to filter this one. iwyu constantly thinks it's necessary, as "new" has uncaught_exception, even though we do not compile with exception support.

File: tools/dmtracedump/createtesttrace.cc

23:0-23:19
Thu Mar 24 22:15:09 2016 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_ffdba792
Bytes: 28
this seems random and wrong.

23:0-23:19
Thu Mar 24 22:47:33 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: dca63e27_ffdba792
UUID: dca63e27_3a2d3ddc
Bytes: 254
Line 409:
 int32_t opt = getopt(argc, argv, "v:d");

But unistd.h should be enough for that. I don't have that build file anymore, when I get around to it, I'll look for the explanation (iwyu helpfully tells you what it thinks is needed from the header).

