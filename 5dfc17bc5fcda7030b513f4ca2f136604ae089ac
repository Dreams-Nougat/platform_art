Revision: 5dfc17bc5fcda7030b513f4ca2f136604ae089ac
Patch-set: 3
File: compiler/optimizing/induction_var_range.cc

78:52-78:64
Thu Oct 15 23:44:22 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f9bdc694_95b3076d
Bytes: 14
Why not const?

78:52-78:64
Fri Oct 16 01:30:55 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f9bdc694_95b3076d
UUID: 1959ba73_c3b77c25
Bytes: 51
no reason, other than that I never see us use that?

78:52-78:64
Fri Oct 16 17:30:00 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1959ba73_c3b77c25
UUID: 99d92a72_0e1e8b2c
Bytes: 227
Const-correctness should be followed, https://google-styleguide.googlecode.com/svn/trunk/cppguide.html#Use_of_const

   If a function does not modify an argument passed by reference or by pointer, that argument should be const.

78:52-78:64
Tue Oct 20 11:51:55 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 99d92a72_0e1e8b2c
UUID: d91642dc_18002581
Bytes: 263
The instruction is being modified, as its predecessor and successor will be changed....

Our (non formal) rule for this code base is that IR nodes are heavily manipulated so don't pay the mental fatigue of knowing whether you should pass them const&, const* or *.

106
Thu Oct 15 23:44:22 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 99ae8a64_e0babe46
Bytes: 66
style nit: add /*out*/ for out parameters

  /*out*/bool* top_test

106
Fri Oct 16 01:30:55 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 99ae8a64_e0babe46
UUID: 99f12aa5_625b1ee1
Bytes: 4
Done

107
Thu Oct 15 23:44:22 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f9b786e1_59a1839c
Bytes: 43
style nit: document magical null parameters

107
Fri Oct 16 01:30:55 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f9b786e1_59a1839c
UUID: 99f12aa5_a26ce684
Bytes: 229
well, the reason for this wrapper method is that i can reuse code without exposing all the internals to the public API

adding tons of /**/ on this line does not really add much value I feel, since you can read below what it does

107
Fri Oct 16 17:30:00 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 99f12aa5_a26ce684
UUID: 79d47637_0dec5178
Bytes: 791
Well that's just the style that google has always recommended (we're just more strict about the word 'consider').

https://google-styleguide.googlecode.com/svn/trunk/cppguide.html#Implementation_Comments

> When you pass in a null pointer, boolean, or literal integer values to functions, you should consider adding a comment about what they are, or make your code self-documenting by using constants

-----

In terms of readability, this function is forwarding the call from line 107 to another function on line 353, that's a few page scrolls on even a 30" monitor.

What's worse is that "GenerateCode" right under this one looks like it's *almost* the right thing except the parameter count is off (it has 1 less than the actual 1 you are calling here), which makes it even more confusing.

114
Thu Oct 15 23:44:22 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 99ae8a64_c0c1c2b5
Bytes: 72
style nit: add /*out*/ for out parameters

  /*out*/HInstruction** lower

114
Fri Oct 16 01:30:55 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 99ae8a64_c0c1c2b5
UUID: 1959ba73_a3b40822
Bytes: 4
Done

116
Thu Oct 15 23:44:22 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 1959ba73_63e150ac
Bytes: 43
style nit: document magical null parameters

116
Fri Oct 16 01:30:55 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1959ba73_63e150ac
UUID: 996cca16_8a7f5b31
Bytes: 9
see above

357
Thu Oct 15 23:44:22 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f9bdc694_55ad8f08
Bytes: 72
style nit: add /*out*/ for out parameters

  /*out*/HInstruction** lower

357
Fri Oct 16 01:30:55 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f9bdc694_55ad8f08
UUID: 99f12aa5_026a1a67
Bytes: 4
Done

371:13-371:14
Thu Oct 15 23:44:22 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d952c250_61a30cee
Bytes: 70
nit: don't really need the outer-most (), return is not a function :).

371:13-371:14
Fri Oct 16 01:30:55 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d952c250_61a30cee
UUID: 39611e20_1cd6f9b1
Bytes: 98
Ah, but look carefully, the ( is closed much earlier

I have add a comment to make this more clear

383
Thu Oct 15 23:44:22 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 39611e20_fcf05dbd
Bytes: 73
style nit: add /*out*/ for out parameters

  /*out*/HInstruction** result

383
Fri Oct 16 01:30:55 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 39611e20_fcf05dbd
UUID: 79c3965a_b56c6085
Bytes: 4
Done

File: compiler/optimizing/induction_var_range.h

84:17-84:18
Thu Oct 15 22:19:50 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f9bdc694_35149b87
Bytes: 124
ptal if this is more clear

hopefully all if it will be very clear with my next, yes, finally the last CL on dynamic BCE :-)

95
Thu Oct 15 23:44:22 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 1959ba73_43e24cb5
Bytes: 103
style nit: add /*out*/ for out parameters

  /*out*/HInstruction** lower,
  /*out*/HInstruction** upper

95
Fri Oct 16 01:30:55 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1959ba73_43e24cb5
UUID: 79c3965a_f58fb8b8
Bytes: 4
Done

141
Thu Oct 15 23:44:22 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 39611e20_5c023156
Bytes: 103
style nit: add /*out*/ for out parameters

  /*out*/HInstruction** lower,
  /*out*/HInstruction** upper

141
Fri Oct 16 01:30:55 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 39611e20_5c023156
UUID: 79c3965a_155c34da
Bytes: 4
Done

149
Thu Oct 15 23:44:22 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f9bdc694_75ae930b
Bytes: 7
see 141

149
Fri Oct 16 01:30:55 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f9bdc694_75ae930b
UUID: 1959ba73_63a310ee
Bytes: 4
Done

