Revision: 9671f7215c7a90a98e6d8ae69c22004d86208f6a
Patch-set: 2
File: runtime/verifier/verifier_deps.cc

613:22-613:48
Tue Nov 01 11:32:50 2016 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e64b96fb_bbe487c9
Bytes: 127
surprised we don't already have a helper for this. You could add one, pretty sure we have this pattern in other places as well.

613:22-613:48
Tue Nov 01 17:13:57 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e64b96fb_bbe487c9
UUID: e64b96fb_9b974bd0
Bytes: 88
We do, but did not want to take on the task to clean up all these places. Adding a TODO.

633:2-633:30
Tue Nov 01 11:32:50 2016 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 86149ad5_389f2936
Bytes: 109
not for this CL, but maybe we should introduce a typedef for this and use consistently across the code. wdyt?

633:2-633:30
Tue Nov 01 17:13:57 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 86149ad5_389f2936
UUID: e64b96fb_bb9c87f4
Bytes: 123
As discussed, I like naming the type this way, as introducing a typedef kind of feels like adding a new abstraction for me.

674:4-674:18
Tue Nov 01 11:32:50 2016 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 6619660e_97df24f1
Bytes: 14
MutableHandle?

674:4-674:18
Tue Nov 01 17:13:57 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 6619660e_97df24f1
UUID: e64b96fb_7b8fdfb8
Bytes: 4
Done

676:14-676:24
Tue Nov 01 11:32:50 2016 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e64b96fb_db08739f
Bytes: 118
If I remember right a class with verification errors will not be marked resolved. Is this the logic that we want here?

676:14-676:24
Tue Nov 01 17:13:57 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e64b96fb_db08739f
UUID: e64b96fb_5b9223e0
Bytes: 37
Yes, I added comments in the .h file.

724:18-726:63
Tue Nov 01 11:32:50 2016 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e64b96fb_1bd49bce
Bytes: 69
consider adding a helper. The logging makes the logic harder to read.

724:18-726:63
Tue Nov 01 17:13:57 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e64b96fb_1bd49bce
UUID: 0628aa1a_943ba431
Bytes: 4
Done

795:18-800:42
Tue Nov 01 11:32:50 2016 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e64b96fb_fb0d2fac
Bytes: 18
ditto for logging.

795:18-800:42
Tue Nov 01 17:13:57 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e64b96fb_fb0d2fac
UUID: 262f6e24_553c2cf6
Bytes: 4
Done

846:19-846:32
Tue Nov 01 11:32:50 2016 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e64b96fb_bb17a7b6
Bytes: 266
Each of the inner methods (e.g. VerifyFields) only print the first error. I think we should be consistent and abort if one of the stages fail.

Or... we could gather all of them and in a list of errors and print them at the end, which would be better for debug mode.

846:19-846:32
Tue Nov 01 17:13:57 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e64b96fb_bb17a7b6
UUID: e64b96fb_5b554334
Bytes: 171
We do abort if one of the stages fail (&& has lazy evaluation).

But good point about listing all errors. As discussed, I'll try to incorporate that in the oatdump change.

File: runtime/verifier/verifier_deps.h

110:6-110:32
Tue Nov 01 11:32:50 2016 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e64b96fb_9bdf4bf1
Bytes: 12
explain why.

110:6-110:32
Tue Nov 01 17:13:57 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e64b96fb_9bdf4bf1
UUID: e64b96fb_db9dd3f3
Bytes: 4
Done

