Revision: 99b5d1dc07f973a2a9f9482072147d652be5952d
Patch-set: 1
File: benchmark/string-indexof/src/StringIndexOfBenchmark.java

121:15-121:25
Thu Nov 03 13:38:45 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e641d62c_6ee52f60
Bytes: 100
Why this? The commit message sort of implied you wanted to call String.indexOf directly in the loop.

121:15-121:25
Thu Nov 03 13:51:02 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e641d62c_6ee52f60
UUID: e641d62c_0e582b46
Bytes: 211
Well, the intrinsic has no side effect, so I guess LICM would pull it out and the loop would be eliminated (if not now then soon). This should be good enough for relative comparison of different implementations.

121:15-121:25
Thu Nov 03 21:09:25 2016 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e641d62c_0e582b46
UUID: a6dd1ea2_d1a96635
Bytes: 215
good call, we still have the throws property, but otherwise would be pretty close to indeed remove the full loop :-)

I am curious why you have the 3-parameter version of static noinline indexof, where is that used?

121:15-121:25
Fri Nov 04 10:11:00 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a6dd1ea2_d1a96635
UUID: 2b6bb700_b51ba0e1
Bytes: 96
Removed. (I wanted to test that as well but the benchmark already takes about 7 minutes to run.)

