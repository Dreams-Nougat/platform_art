Revision: aad9c45d1bd88af7d504c990ad453a84c9ec2e27
Patch-set: 2
File: compiler/jni/quick/jni_compiler.cc

85:8-85:68
Fri Oct 07 10:03:12 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3f23f0ed_a799aa80
Bytes: 40
This doesn't look more convenient to me.

85:8-85:68
Fri Oct 07 17:14:52 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3f23f0ed_a799aa80
UUID: 7fec880a_a5fb16a4
Bytes: 226
Well without the using it becomes a huge mess of "typename JNIMacroAssembler<kPointerSize>::UnaryCondition::kNotZero" 

I agree with the general thought here, I will just move it out of the class so it's not behind a template.

86:2-86:76
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_3a0aa184
Bytes: 89
Would the shorter

  using typename JniMacroAssemblerPtrSized::UnaryCondition;

work too?

287:4-287:6
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_7ab7f9ce
Bytes: 49
Nit: I think indentation should be 4 spaces here.

287:34-287:60
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_1abebda8
Bytes: 6
Ditto.

287:6-287:30
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_3ac18126
Bytes: 38
Nit: Add parentheses around condition.

File: compiler/utils/arm/jni_macro_assembler_arm_vixl.cc

571:0-571:32
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_bae351c6
Bytes: 24
Nit: Indentation is off.

579:0-579:32
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_9ae88da3
Bytes: 6
Ditto.

File: compiler/utils/arm/jni_macro_assembler_arm_vixl.h

197:36-197:67
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_ba1eb1cf
Bytes: 21
Name these arguments?

197:2-197:9
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_fae9c9a9
Bytes: 5
Drop.

234:0-234:2
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_daee05b0
Bytes: 24
Nit: Indentation is off.

234:31-236:36
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_fa4d49c9
Bytes: 58
Nit: Fit on a single line? (Likewise in other assemblers.)

234:31-236:36
Fri Oct 07 17:14:52 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9fc21c70_fa4d49c9
UUID: 7fec880a_05d42210
Bytes: 78
This is fine, 1 per line is allowed (and it requires less reformatting later).

File: compiler/utils/arm64/jni_macro_assembler_arm64.cc

642:0-642:32
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_3ad86110
Bytes: 24
Nit: Indentation is off.

650:0-650:32
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_1ad59dd6
Bytes: 6
Ditto.

File: compiler/utils/arm64/jni_macro_assembler_arm64.h

178:36-178:67
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_9a23ed15
Bytes: 21
Name these arguments?

178:2-178:9
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_7aded900
Bytes: 5
Drop.

237:0-237:2
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_5adb150f
Bytes: 24
Nit: Indentation is off.

File: compiler/utils/jni_macro_assembler.h

208:76-208:82
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_5a267524
Bytes: 178
I guess these methods are not abstract because not all JNI assemblers implement them. Maybe add

  LOG(FATAL) << "Unreachable";
  UNREACHABLE();

to make sure they're not called?

208:76-208:82
Fri Oct 07 17:14:52 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9fc21c70_5a267524
UUID: 7fec880a_a5d2f621
Bytes: 125
Maybe I'll just add this to the mips compiler only since I already had to make other changes there to get it to even compile.

210:35-210:44
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_da004569
Bytes: 105
Make this an actual argument name and add

  ATTRIBUTE_UNUSED

after it? (Likewise in following methods.)

242:0-242:3
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_baf59169
Bytes: 24
Nit: Indentation is off.

281:6-281:25
Fri Oct 07 17:14:52 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7fec880a_45e22af0
Bytes: 41
This should be JNIMacroLabelCommon (typo)

File: compiler/utils/x86/jni_macro_assembler_x86.cc

561:0-572:3
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_fab8a994
Bytes: 33
Factor this with lines 539–550?

File: compiler/utils/x86/jni_macro_assembler_x86.h

164:36-164:67
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_fa66694f
Bytes: 21
Name these arguments?

164:2-164:9
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_1a07dd7a
Bytes: 5
Drop.

169:20-169:52
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_ba70f100
Bytes: 21
Name these arguments?

169:2-169:9
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_da6ba517
Bytes: 5
Drop.

176:0-176:2
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_1a623d36
Bytes: 24
Nit: Indentation is off.

File: compiler/utils/x86_64/jni_macro_assembler_x86_64.cc

602:0-602:32
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_ba47d1a5
Bytes: 24
Nit: Indentation is off.

605:25-605:33
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_9a4c0dcb
Bytes: 12
x86_64_cond?

623:0-623:32
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_7a425996
Bytes: 24
Nit: Indentation is off.

627:0-638:3
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_3a3ce117
Bytes: 33
Factor this with lines 605–616?

627:0-638:3
Fri Oct 07 17:14:52 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9fc21c70_3a3ce117
UUID: 7fec880a_65b08ef5
Bytes: 129
Going to delete the BinaryCondition one since nothing is using it and kZero/kNotZero aren't even binary conditions to begin with.

646:5-646:8
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_1a391d28
Bytes: 7
X86_64?

File: compiler/utils/x86_64/jni_macro_assembler_x86_64.h

190:36-190:67
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_9a752df1
Bytes: 21
Name these arguments?

190:2-190:9
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_5a58b589
Bytes: 5
Drop.

195:20-195:52
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_7a5b7988
Bytes: 21
Name these arguments?

195:2-195:9
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_3a65013e
Bytes: 5
Drop.

202:0-202:2
Fri Oct 07 01:54:22 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9fc21c70_da528565
Bytes: 24
Nit: Indentation is off.

