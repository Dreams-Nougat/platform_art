Revision: c4d5854c29f36dc2c4f0cd691df98a8eeeff0654
Patch-set: 3
File: compiler/optimizing/induction_var_range.cc

811:7-811:61
Mon Oct 17 09:08:37 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bcbe0e35_26f53847
Bytes: 94
Personal preference, but maybe this reads better on a while loop? Not feeling strongly though.

811:7-811:61
Mon Oct 17 18:30:06 2016 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcbe0e35_26f53847
UUID: 5c6993e3_6045635e
Bytes: 78
With a while loop, it is harder to limit scope of p, which is why I picked for

820:6-820:81
Mon Oct 17 09:08:37 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bcbe0e35_06f2bc5e
Bytes: 17
nit: one per line

820:6-820:81
Mon Oct 17 18:30:06 2016 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcbe0e35_06f2bc5e
UUID: 5c6993e3_005a6741
Bytes: 4
Done

823:0-823:27
Mon Oct 17 09:08:37 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bcbe0e35_66ef3077
Bytes: 40
I'd add a comment why graph can be null.

823:0-823:27
Mon Oct 17 18:30:06 2016 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcbe0e35_66ef3077
UUID: 5c6993e3_c0530f29
Bytes: 4
Done

827:99-827:103
Mon Oct 17 09:08:37 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bcbe0e35_46ecb480
Bytes: 14
Line too long.

827:99-827:103
Mon Oct 17 18:30:06 2016 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcbe0e35_46ecb480
UUID: 5c6993e3_e050931e
Bytes: 4
Done

834:97-834:102
Mon Oct 17 09:08:37 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bcbe0e35_a68928de
Bytes: 14
Line too long.

834:97-834:102
Mon Oct 17 18:30:06 2016 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcbe0e35_a68928de
UUID: 5c6993e3_806d17e9
Bytes: 4
Done

838:94-838:102
Mon Oct 17 09:08:37 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bc5a8f66_5a951518
Bytes: 14
Line too long.

838:94-838:102
Mon Oct 17 18:30:06 2016 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bc5a8f66_5a951518
UUID: 5c6993e3_a0729bc5
Bytes: 4
Done

File: compiler/optimizing/loop_optimization.cc

226:0-226:33
Mon Oct 17 09:08:37 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bcbe0e35_868eace1
Bytes: 29
Is that an unrelated bug fix?

226:0-226:33
Mon Oct 17 18:30:06 2016 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcbe0e35_868eace1
UUID: 5c6993e3_8cdf9324
Bytes: 206
Not a bug fix, but a minor optimization (I realized this could never happen for anything but inner loops). Can do it in a new CL if you feel strong about it, it does not matter for this CL (or any other :-)

File: test/618-checker-induction/src/Main.java

49:14-49:30
Mon Oct 17 09:08:37 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bcbe0e35_e6932008
Bytes: 22
potentialInfiniteLoop?

49:14-49:30
Mon Oct 17 18:30:06 2016 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcbe0e35_e6932008
UUID: 5c6993e3_602ec3aa
Bytes: 4
Done

329:0-329:47
Mon Oct 17 09:08:37 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bcbe0e35_067bdcc2
Bytes: 218
Actually, thinking about your comment on a different CL that we already check at runtime the return value, I still think it would be worthwhile to check it in checker. Who knows if there is still some computation left?

329:0-329:47
Mon Oct 17 18:30:06 2016 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcbe0e35_067bdcc2
UUID: 5c6993e3_b672e100
Bytes: 162
Ok, I want to avoid relying too much on the exact expression, but I added it for all constant cases, since those should be always the same after constant folding.

