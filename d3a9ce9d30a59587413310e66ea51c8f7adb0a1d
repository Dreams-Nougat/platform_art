Revision: d3a9ce9d30a59587413310e66ea51c8f7adb0a1d
Base-for-patch-set: 5
File: compiler/optimizing/sharpening.cc

287:0-288:31
Tue Oct 11 17:14:48 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 1c2b9a7f_ae2b7799
Bytes: 124
Why are you removing this?

Note that without --force-determinism we do not resolve strings in CompilerDriver::PreCompile().

287:0-288:31
Wed Oct 12 12:41:25 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1c2b9a7f_ae2b7799
UUID: 5c37d20c_408a4ed1
Bytes: 224
Ah that got missed during a refactoring. I'll bring it back and add the comment about the determinism.

Also, where do we test non-determinism boot image compilation? All my tests pass even after removing this ResolveString.

287:0-288:31
Wed Oct 12 12:57:24 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5c37d20c_408a4ed1
UUID: fcac0670_85c1a298
Bytes: 55
Did you try to boot a device with WITH_DEXPREOPT=false?

287:0-288:31
Wed Oct 12 13:01:06 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: fcac0670_85c1a298
UUID: 5c37d20c_e09d6208
Bytes: 113
No, but it'd be great to not rely on device booting. So maybe the run-test no-image configuration just does that?

287:0-288:31
Thu Oct 13 13:43:17 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5c37d20c_e09d6208
UUID: 5cb272c6_c8e9ef0c
Bytes: 124
Yes, I checked on host that "art/test/run-test --no-image ..." will create its own core image without "--force-determinism".

