Revision: d8936da27b792d1ca02e59c92456a1a53c7b9905
Patch-set: 20
File: runtime/jit/jit_code_cache.cc

631:3-631:20
Thu Dec 15 12:18:00 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5a199b0d_5740ac73
Bytes: 199
by anyone/anything right? It's not just down to the jit code cache, as the jit code cache doesn't reference it anymore.

Sorry I'm still puzzled. Aren't you using old_method for the new redefinition?

631
Thu Dec 15 19:20:17 2016 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5a199b0d_5740ac73
UUID: da6aeb2c_d2ad4383
Bytes: 452
It's like the "mirror::<whatever>*"s are after suspend. They shouldn't be used since they might point to anything. After this function the 'old_method' ArtMethod is not valid. If any runtime/compiled code outside of the redefinition stuff gets a hold of it then weird things could happen. This comment is saying that we might want to put in some debug checking that these invalid ArtMethods aren't used that way. It's like why we added the ObjPtr type.

