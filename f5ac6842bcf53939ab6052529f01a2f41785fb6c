Revision: f5ac6842bcf53939ab6052529f01a2f41785fb6c
Patch-set: 5
File: runtime/art_method.h

249:30-249:54
Thu Nov 24 13:17:32 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 905054f1_b1c30099
Bytes: 28
Huh really? Please document.

249:30-249:54
Thu Nov 24 13:42:56 2016 +0000
Author: Orion Hodson <1071150@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 905054f1_b1c30099
UUID: 905054f1_d19fa49d
Bytes: 8
Removed.

File: runtime/verifier/method_verifier.cc

3063:0-3063:21
Thu Nov 24 13:17:32 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 103c64a3_cd7aa9db
Bytes: 64
What's the implication of returning false? Please add a comment.

3063:0-3063:21
Thu Nov 24 13:42:56 2016 +0000
Author: Orion Hodson <1071150@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 103c64a3_cd7aa9db
UUID: 2d266fad_ddeafc2b
Bytes: 67
Removed. Code now proceeds to Fail(VERIFY_ERROR_FORCE_INTERPRETER).

3063:0-3063:21
Fri Nov 25 11:33:10 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 2d266fad_ddeafc2b
UUID: 705120f4_13adae66
Bytes: 63
But is that the right thing to do? Should we hard fail instead?

3063:0-3063:21
Fri Nov 25 12:44:53 2016 +0000
Author: Orion Hodson <1071150@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 705120f4_13adae66
UUID: d06c8cba_33b628dc
Bytes: 124
Added code to hard fail here.

Also changed the block so the code does not return early, otherwise it'll skip logging steps.

3077:6-3077:43
Thu Nov 24 13:17:32 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 905054f1_d1c884b7
Bytes: 18
Move to line 3081?

3077:6-3077:43
Thu Nov 24 13:42:56 2016 +0000
Author: Orion Hodson <1071150@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 905054f1_d1c884b7
UUID: 905054f1_31b71021
Bytes: 4
Done

3924:63-3924:71
Thu Nov 24 13:17:32 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 905054f1_f1cd88c4
Bytes: 39
Mention this bug in the commit message.

3924:63-3924:71
Thu Nov 24 13:42:56 2016 +0000
Author: Orion Hodson <1071150@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 2d266fad_3dfc50fc
Bytes: 4
Done

4189:0-4224:14
Thu Nov 24 13:17:32 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 905054f1_11d3ec69
Bytes: 75
Didn't we say we would ensure the two methods would be in WellKnownClasses?

4189:0-4224:14
Thu Nov 24 13:42:56 2016 +0000
Author: Orion Hodson <1071150@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 905054f1_11d3ec69
UUID: 2d266fad_fdedb845
Bytes: 172
I don't recall this specifically though it'd simplify things here. There aren't any other checks in the verifier that use WellKnownClasses though (?). Happy to change this.

4189:0-4224:14
Fri Nov 25 11:06:44 2016 +0000
Author: Orion Hodson <1071150@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 2d266fad_fdedb845
UUID: 5056dcee_127f6a1a
Bytes: 45
Leaving as discussed between us this morning.

